.chatbot-toggle { position: fixed; right: 20px; bottom: 20px; z-index: 1400; }
.chatbot-button { background: linear-gradient(180deg,#2d7ff9,#1b5ed6); color:#fff; border-radius:50%; width:64px; height:64px; border:none; font-size:1.2rem; box-shadow:0 12px 30px rgba(45,127,249,0.22); display:flex; align-items:center; justify-content:center; cursor:pointer; position:relative; }
.chatbot-button:focus { outline:3px solid rgba(45,127,249,0.18); }
.chatbot-icon { font-size:1.2rem; line-height:1; }
.chatbot-badge { position:absolute; top:6px; right:6px; width:12px; height:12px; background:#ff4d4f; border-radius:50%; box-shadow:0 2px 6px rgba(0,0,0,0.12); display:none; }
.chatbot-button.pulse { animation:chatbot-pulse 2s infinite; }
@keyframes chatbot-pulse { 0%{ transform:scale(1);}50%{ transform:scale(1.06);}100%{ transform:scale(1);} }

#chatbot-panel { position: fixed; right: 20px; bottom: 94px; width: 360px; max-width: calc(100% - 40px); z-index:1400; display:none; border-radius:12px; overflow:hidden; box-shadow:0 22px 60px rgba(12,35,12,0.12); background:#fff; }
#chatbot-panel[aria-hidden="false"] { display:block; }
#chatbot-panel .chatbot-header { display:flex; justify-content:space-between; align-items:center; padding:12px 14px; background:var(--surface, #f6f8fb); border-bottom:1px solid rgba(0,0,0,0.06); }
#chatbot-panel .chatbot-header strong { font-size:1rem; }
#chatbot-panel .chatbot-header .chatbot-header-actions button { background:transparent; border:none; font-size:1.1rem; cursor:pointer; }
#chatbot-panel .chatbot-body { padding:12px 14px; background:#fff; }
#chatbot-input { width:100%; padding:10px 12px; border:1px solid var(--border, #e6e6e6); border-radius:8px; box-sizing:border-box; resize:vertical; }
.chatbot-actions { margin-top:8px; display:flex; gap:8px; }

.chatbot-result { margin-top:12px; display:flex; flex-direction:column; gap:10px; max-height:60vh; overflow:auto; padding-right:4px; }
.chatbot-card {
	display: flex;
	flex-direction: column;
	padding: 12px;
	border-radius: 10px;
	background: linear-gradient(180deg,#fff,#fbfcff);
	border: 1px solid rgba(10,30,10,0.03);
	box-shadow: 0 6px 18px rgba(13,40,13,0.04);
}
.chatbot-card .card-carousel {
	position: relative;
	width: 100%;
	height: 160px;
	overflow: hidden;
	border-radius: 8px;
	margin-bottom: 10px;
	background: linear-gradient(180deg,#f3f6f3,#ffffff);
}
.chatbot-card .carousel-track {
	display: flex;
	transition: transform 0.3s ease;
	height: 100%;
}
.chatbot-card .carousel-track img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	flex-shrink: 0;
}
.chatbot-card .carousel-btn {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	background: rgba(255,255,255,0.9);
	border: none;
	width: 32px;
	height: 32px;
	border-radius: 50%;
	cursor: pointer;
	font-size: 1rem;
	box-shadow: 0 2px 8px rgba(0,0,0,0.15);
	z-index: 10;
	display: none;
}
.chatbot-card .carousel-btn.show { display: block; }
.chatbot-card .carousel-btn.prev { left: 8px; }
.chatbot-card .carousel-btn.next { right: 8px; }
.chatbot-card .carousel-btn:hover { background: #fff; }
.chatbot-card .card-body { min-width: 0; }
.chatbot-card .card-title { font-weight:700; color:var(--primary-dark, #163f1a); text-decoration:none; display:block; font-size:1rem; line-height:1.2; word-break:break-word; }
.chatbot-card .card-price { margin-top:6px; color:#0a7a3a; font-weight:700; }
.chatbot-card .card-reason { margin-top:6px; color:var(--muted, #666); font-size:0.9rem; }
.chatbot-card .card-actions { margin-top:8px; display:flex; gap:8px; align-items:center; }
.chatbot-card .btn { padding:6px 12px; border-radius:20px; font-size:0.95rem; }
.chatbot-card .badge-confidence { margin-left:6px; font-size:0.75rem; padding:4px 6px; background:rgba(0,0,0,0.06); border-radius:6px; }
.chatbot-card .fallback-text { margin-top:6px; color:var(--muted,#71876b); font-size:0.9rem; }

.chatbot-note { font-size:0.9rem; color:var(--muted,#666); padding:8px; }

@media (max-width:540px){
	.chatbot-button { width:56px; height:56px; }
	#chatbot-panel { right:12px; left:12px; bottom:84px; width: auto; max-width: calc(100% - 24px); }
	.chatbot-card .card-carousel { height: 140px; }
}
